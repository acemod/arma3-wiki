name: selectionPosition
description: |-
  Returns selection position in model space pertaining to the current animation in [[Simulation vs Render Time Scope|render time scope]].
  When the default syntax is used, command searches first in Memory [[LOD]], then in Geometry LOD, FireGeometry LOD, LandContact LOD, HitPoints LOD and finally in ViewGeometry LOD and returns the first matching find.
  The second syntax allows to specify which one of these LODs to search in instead.
  {{Feature|important|
  Sometimes internally "ViewGeometry" could be equal to "Geometry", and "FireGeometry" could be equal to "ViewGeometry".
  In order to pinpoint the actual LOD, use [[allLODs]] and [[LOD_resolutions|LOD resolution]] as argument for selecting the LOD.
  }}
groups:
- Object Manipulation
- Render Time Scope
syntax:
- call: !Binary
  - object
  - selectionName
  ret:
  - ArrayUnknown
  - '[[Position#PositionRelative|relative position]] in model space. If selection does not exist, [0, 0, 0] is returned.'
  params:
  - name: object
    typ: Object
  - name: selectionName
    typ: String
- call: !Binary
  - object
  - - selectionName
    - LOD
    - returnMode
  ret:
  - ArrayUnknown
  - '[[Position#PositionRelative|relative position]] in model space. If selection does not exist, [0, 0, 0] is returned. If returnMode is {{hl|"BoundingBox"}}, [[Array]] of [[Array]]s'
  params:
  - name: object
    typ: Object
  - name: selectionName
    typ: String
  - name: LOD
    description: |-
      can be one of:
      * {{hl|"Memory"}}
      * {{hl|"Geometry"}}
      * {{hl|"FireGeometry"}}
      * {{hl|"LandContact"}}
      * {{hl|"HitPoints"}}
      * {{GVI|arma3|2.06|size= 0.75}} {{hl|"ViewGeometry"}}
      When [[Number]] is used, command searches for a LOD with the similar [[LOD resolutions|LOD resolution]]
    typ: !OneOf
    - - String
      - null
    - - Number
      - null
    since:
      arma_3:
        major: 2
        minor: 6
  - name: returnMode
    description: |-
      (Optional, default {{hl|"FirstPoint"}}) can be one of:
      * {{hl|"FirstPoint"}}
      * {{hl|"AveragePoint"}}
      * {{hl|"BoundingBox"}}
    typ: String
    since:
      arma_3:
        major: 2
        minor: 8
  since:
    arma_3:
      major: 1
      minor: 50
- call: !Unary
  - object
  - selectionName
  - LODIndex
  - isVisual
  - returnMode
  ret:
  - ArrayUnknown
  - '[[Position#PositionRelative|relative position]] in model space. If selection does not exist, [0, 0, 0] is returned. If returnMode is {{hl|"BoundingBox"}}, [[Array]] of [[Array]]s'
  params:
  - name: object
    typ: Object
  - name: selectionName
    typ: String
  - name: LODIndex
    description: the index of the target LOD (see [[allLODs]])
    typ: Number
  - name: isVisual
    description: (Optional, default [[true]]) [[true]] for Render, [[false]] for Simulation [[Simulation_vs_Render_Time_Scope|time scope]]
    typ: Boolean
  - name: returnMode
    description: |-
      (Optional, default {{hl|"FirstPoint"}}) can be one of:
      * {{hl|"FirstPoint"}}
      * {{hl|"AveragePoint"}}
      * {{hl|"BoundingBox"}}
    typ: String
    since:
      arma_3:
        major: 2
        minor: 8
  since:
    arma_3:
      major: 2
      minor: 6
argument_loc: Global
effect_loc: Unspecified
since:
  armed_assault:
    major: 1
    minor: 0
  arma_2:
    major: 1
    minor: 0
  arma_2_arrowhead:
    major: 1
    minor: 50
  take_on_helicopters:
    major: 1
    minor: 0
  arma_3:
    major: 0
    minor: 50
examples:
- _inModelPosition = player selectionPosition "head_hit";
- _inModelPosition = player selectionPosition "pelvis";
- _inModelPosition = player selectionPosition "head";
- _inModelPosition = player selectionPosition "camera";
- "stomper selectionPosition [\"wheel_1_1\", \"HitPoints\", \"FirstPoint\"];\t// [-0.774058,0.860854,-1.40365]\nstomper selectionPosition [\"wheel_1_1\", \"HitPoints\", \"AveragePoint\"];\t// [-0.597142,1.35486,-1.58345]\nstomper selectionPosition [\"wheel_1_1\", \"HitPoints\", \"BoundingBox\"];\t// [[-0.774058,0.860854,-2.07746],[-0.420225,1.84887,-1.08944]]\n"
