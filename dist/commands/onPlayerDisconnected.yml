name: onPlayerDisconnected
description: 'This command will execute attached code whenever a player is leaving an MP session. The code will receive a number of special variables:'
multiplayer_note: |-
  In multiplayer [[onPlayerDisconnected]] is executed only on the server.

  {{Feature|arma3|Use [[Arma 3: Mission Event Handlers#PlayerDisconnected|playerDisconnected]] or [[Arma 3: Mission Event Handlers#HandleDisconnect|HandleDisconnect]] instead in {{arma3}}.}}
groups:
- Multiplayer
- Event Handlers
syntax:
- call: !Unary code
  ret:
  - Nothing
  - null
  params:
  - name: code
    description: |-
      Code executed. The code will receive a number of special variables:
      * _id: [[Number]] - Is the unique DirectPlay ID. Quite useless as the number is too big for in-built string representation and gets rounded. It is also the same id used for user placed markers.
      * _uid: [[String]] - Is [[getPlayerUID]] of the leaving player. In Arma 3 it is also the same as Steam ID.
      * _name: [[String]] - Is [[profileName]] of the leaving player.
      * {{GVI|arma3|1.50|size= 0.75}} _jip: [[Boolean]] - Is a flag that indicated whether or not the player joined after the mission has started ('''J'''oined '''I'''n '''P'''rogress). [[true]] - if the player was JIP, otherwise [[false]].
      * {{GVI|arma3|1.50|size= 0.75}} _owner: [[Number]] - Is [[owner]] id of the leaving player. Can be used for kick or ban purposes or just for [[publicVariableClient]].
      * {{GVI|arma3|1.96|size= 0.75}} _idstr:  [[String]] - Same as {{hl|_id}} but in string format, so could be exactly compared to [[allMapMarkers | user marker]] ids.
    typ: !OneOf
    - - String
      - null
    - - Code
      - null
argument_loc: Unspecified
effect_loc: Unspecified
server_exec: false
since:
  armed_assault:
    major: 1
    minor: 0
  arma_2:
    major: 1
    minor: 0
  arma_2_arrowhead:
    major: 1
    minor: 50
  take_on_helicopters:
    major: 1
    minor: 0
  arma_3:
    major: 0
    minor: 50
examples:
- onPlayerDisconnected {diag_log [_id, _uid, _name]};
- "onPlayerDisconnected {\n\tif (count allPlayers == 0) then {\n\t\tendMission \"END1\";\n\t};\n};"
