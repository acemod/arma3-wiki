name: ctrlSetStructuredText
description: Set the [[Structured Text]] which will be displayed in [[DialogControls-Text#CT_STRUCTURED_TEXT.3D13|structured text control]].
problem_notes:
- Using this command will modify the provided ''structuredText'' - a way to circumvent this issue is to [[parseText]] in-line. See [[#Notes|Notes]].
groups:
- GUI Control
- Structured Text
syntax:
- call: !Binary
  - control
  - structuredText
  ret:
  - Nothing
  - null
  params:
  - name: control
    type: Control
  - name: structuredText
    type: StructuredText
argument_loc: Unspecified
effect_loc: Unspecified
since:
  armed_assault:
    major: 1
    minor: 0
  arma_2:
    major: 1
    minor: 0
  arma_2_arrowhead:
    major: 1
    minor: 50
  take_on_helicopters:
    major: 1
    minor: 0
  arma_3:
    major: 0
    minor: 50
examples:
- _control ctrlSetStructuredText parseText "First line<img image=data\isniper.paa /><br />Second line"
- "To adjust text vertically, add extra line above with blank space (&amp;#160;) and set its size accordingly:\n<sqf>\nwith uiNamespace do {\n\tbutton = findDisplay 46 ctrlCreate [\"RscShortcutButton\", -1];\n\tbutton ctrlSetPosition [0,0,0.3,0.1];\n\tbutton ctrlCommit 0;\n\tbutton ctrlSetStructuredText parseText \n\t\"<t size='0.5'>&#160;</t><br/><t size='1' align='center'>Button Text&#160;&#160;</t>\";\n};\n"
- |
  There is a bug with {{hl|valign}} that requires adding 1 extra trailing space per line to the displayed text in order to keep it centered horizontally:
  <sqf>
  disableSerialization;
  private _ctrl = findDisplay 46 ctrlCreate ["RscStructuredText", -1];
  _ctrl ctrlSetPosition [0, 0, 0.5, 0.5];
  _ctrl ctrlSetBackgroundColor [0, 0, 0, 1];
  _ctrl ctrlCommit 0;
  private _lineHeight = getNumber (configFile >> "RscStructuredText" >> "size");
  private _linesTotal = (ctrlPosition _ctrl select 2) / _lineHeight;
  private _trailingSpace = "";
  for "_i" from 1 to _linesTotal do { _trailingSpace = _trailingSpace + " " };
  _ctrl ctrlSetStructuredText parseText format ["<t size='%1'><t size='1' align='center' valign='middle'>%2%3</t> </t>", _linesTotal, "------ Centered Text ------", _trailingSpace];
