id: HandleChatMessage
desc: |-
  Fires when a message is received, before adding it to the chat feed. Fires clientside.
  {{Feature|informative|
  * On a dedicated server and headless client it fires only for global (channel 0) and system messages (channel 16).
  * The HandleChatMessage EH can be used to disable/modify system messages like "Player NAME connecting/is losing connection".
  }}
  {{Feature|important|Does not trigger for any of the chat related script command such as [[systemChat]], [[sideChat]], or other [[Category:Command_Group:_Radio_and_Chat|chat commands]].}}
  The output message could be overridden:
  * Return [[true]] to block incoming chat message from being added to the chat feed.
  * Return [[String]] to replace the chat message content but not the sender name.
  * Return [[Array]] [from, text] to replace both the chat message content and the the sender's name.
  {{Feature|important|Only the last added HandleChatMessage EH with override will be used to override the message.}}
  {{Feature|warning|Do not put any of the chat related script command such as [[systemChat]], [[sideChat]], etc in this EH code as it would naturally cause recursion and the game will freeze.}}
  ** in SP: 0
  ** in MP with no sender: [[clientOwner]]
  ** in MP with sender: sender's [[clientOwner]], or if AI - creator id part of [[netId]] of the AI
  ** "-1": means not available
  ** "0": means [[player | isPlayer]] in SP
  ** "1": means AI in SP or MP
  ** >1: [[getPlayerID]] in MP
params:
- name: channel
  desc: see [[Description.ext#disableChannels|radio channel indices]] (16 for system chat message for example)
  type: Number
- name: owner
  desc: '[[owner]] id of the sender:'
  type: Number
- name: from
  desc: sender's formatted name as appeared on the chat
  type: String
- name: text
  desc: the chat message
  type: String
- name: person
  desc: sender's object
  type: Object
- name: name
  desc: sender's [[name]], could be different from {{hl|from}}
  type: String
- name: strID
  desc: 'sender''s network player ID (marker id):'
  type: String
- name: forcedDisplay
  desc: if the message should be displayed when the chat list is disabled (when [[enableRadio]] is set to [[false]] radio protocol messages won't display)
  type: Boolean
- name: isPlayerMessage
  desc: if the message is addressed to [[player]]
  type: Boolean
- name: sentenceType
  desc: '0: Normal type, 1: Protocol type'
  type: Number
- name: chatMessageType
  desc: '0: Generic type, 1: SimpleMove type, 2: KillConfirmation type'
  type: Number
- name: params
  desc: sentence parameters, if any
  type: !ArrayUnsized
    type: String
    desc: ''
since:
  arma3: '2.0'
argument_loc: Unspecified
effect_loc: Unspecified
examples:
- "addMissionEventHandler [\"HandleChatMessage\", {\n\tparams [\"_channel\", \"_owner\", \"_from\", \"_text\", \"_person\", \"_name\", \"_strID\", \"_forcedDisplay\", \"_isPlayerMessage\", \"_sentenceType\", \"_chatMessageType\", \"_params\"];\n}];"
