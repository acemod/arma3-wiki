id: HandleHeal
description: |-
  Triggered when unit starts healing process (player using heal action on self or other unit, scripted [[action]] or AI heals after being ordered or on its own).
  This event handler must be added to the 'injured' (could be added to Init field in editor) and in multiplayer will trigger only on PC where 'healer' is [[Multiplayer Scripting#Locality|local]]. If code returns anything but [[true]], engine side healing follows, otherwise healing is aborted.
  {{Feature|important|When AI unit is ordered (or acts at own accord) to heal at a medical vehicle and the event handler returns [[true]], the healing is canceled but AI will try again and again and again. The event handler in this case will fire every second until AI unit is healed by other means.}}
  '''NOTE''': This Event Handler was broken before Arma 3 v2.18.
params:
- name: injured
  description: unit EH is attached to
  type: Object
- name: healer
  description: unit that does the healing (could be the same unit as 'injured')
  type: Object
- name: isMedic
  description: true when healer is 'Medic'
  type: Boolean
- name: atVehicle
  description: when healing at medical vehicle, this is the vehicle
  type: Object
- name: action
  description: the action that triggered the event handler, for example "SoldierHealSelf"
  type: String
argument_loc: Global
effect_loc: Unspecified
examples:
- "this addEventHandler [\"HandleHeal\", {\n\t_this spawn {\n\t\tparams [\"_injured\", \"_healer\", \"_isMedic\", \"_atVehicle\", \"_action\"];\n\t\tprivate _damage = damage _injured;\n\t\tif (_injured == _healer) then {\n\t\t\twaitUntil { damage _injured != _damage };\n\t\t\tif (damage _injured < _damage) then {\n\t\t\t\t_injured setDamage 0;\n\t\t\t};\n\t\t};\n\t};\n}];"
- "this addEventHandler [\"HandleHeal\", {\n\tparams [\"_injured\", \"_healer\", \"_isMedic\", \"_atVehicle\", \"_action\"];\n}];"
