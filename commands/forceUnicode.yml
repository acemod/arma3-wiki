name: forceUnicode
description: "<div style=\"float: right\">\nList of the commands that work with [[forceUnicode]]:\n{{Columns|2|\n* [[copyFromClipboard]]\n* [[copyToClipboard]]\n* [[count]]\n* [[find]]\n* [[in]]\n* [[insert]]\n* [[reverse]]\n* [[select]]\n* [[splitString]]\n* [[trim]]\n* [[regexFind]]\n* [[regexMatch]]\n* [[regexReplace]]\n}}\n</div>\nSets the Unicode flag which forces some of the string manipulation commands to switch to {{Link|https://en.wikipedia.org/wiki/Unicode}}.\nThe Unicode flag is always set right after [[forceUnicode]] command execution, but is reset depending on the command mode: \n* 1 - the Unicode flag is reset right after any of the supported commands executed or the end of script, whichever comes earlier.\n* 0 - the Unicode flag is reset at the end of the script.\nWhen the flag is set it will also affect all scopes within the script including child scopes (see [[diag_scope]]).\nThere are many other string manipulation commands like [[ctrlSetText]], [[getTextWidth]], etc. that support Unicode by design so no additional forcing is needed."
groups:
- Strings
syntax:
- call: !Unary mode
  ret:
  - Anything
  - null
  params:
  - name: mode
    type: Unknown
argument_loc: Unspecified
effect_loc: Unspecified
since:
  arma_3:
    major: 2
    minor: 2
examples:
- |-
  <sqf>
  copyToClipboard "д"; // copies "Ð´" to clipboard
  forceUnicode 1;
  copyToClipboard "д"; // copies "д" to clipboard
  </sqf>
- "<sqf>\nprivate _string = \"привет\";\t\t\t// a string that uses Unicode characters\nsystemChat str count _string;\t\t// 12 - the character count is wrong without forceUnicode\n\ncall {\n\tsystemChat str count _string;\t// 12 - identical result\n\tforceUnicode 0;\n\tsystemChat str count _string;\t// 6 - correct result\n};\n\nsystemChat str count _string;\t\t// 6 - outer scope is affected by forceUnicode as well, because the command mode is 0\n\nforceUnicode -1; // cancelled\n\ncall {\n\tsystemChat str count _string;\t// 12 - wrong count\n\tforceUnicode 1;\n\tsystemChat str count _string;\t// 6 - correct result, but Unicode it reset after this operation, because command mode is 1\n};\n\nsystemChat str count _string;\t\t// 12 - outer scope is not affected as it was reset right after count\n</sqf>"
