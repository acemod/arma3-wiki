name: onMapSingleClick
desc: "Defines the action performed when user clicks in map by executing command string. The code is executed on every click, until the '''command''' is \n* removed via <sqf inline>onMapSingleClick \"\"</sqf>, or\n* replaced by <sqf inline>onMapSingleClick \"SomeOtherCommand(s)\"</sqf>\n\nIn {{arma3}} the code should return [[true]] only if you wish to override default engine handling of the mouse click on map (see {{Link|#Example 4}}).<br>\nFor older games, when click is processed, code should ultimately return [[true]] back to the engine. If [[false]] is returned, default processing by the game engine is done.\nReturn value of any other type (including [[Nothing]]) is an error. In such case default processing by the game engine is done, and error message may be displayed.\n\n{{Feature|arma3|Since {{GVI|arma3|1.58}} the stackable [[Arma 3: Mission Event Handlers#MapSingleClick|MapSingleClick]] Mission Event Handler is available and should be used instead.}}"
groups:
- Map
- Event Handlers
syntax:
- call: !Unary command
  ret:
    type: Nothing
  right: !Item
    name: command
    type: !OneOf
    - type: String
      desc: null
      since: null
    - type: Code
      desc: null
      since: null
- call: !Binary
  - params
  - command
  ret:
    type: Nothing
  left: !Item
    name: params
    type: Anything
  right: !Item
    name: command
    type: !OneOf
    - type: String
      desc: null
      since: null
    - type: Code
      desc: null
      since: null
argument_loc: Unspecified
effect_loc: Unspecified
since:
  flashpoint: '1.85'
  flashpoint_elite: '1.0'
  arma1: '1.0'
  arma2: '1.0'
  arma2oa: '1.50'
  tkoh: '1.0'
  arma3: '0.50'
examples:
- |-
  '''{{arma1}}:''' Creates a soldier unit at the position clicked:
  <sqf>onMapSingleClick "'SoldierWB' createUnit [_pos, group player]; true";</sqf>
- |-
  '''{{arma1}}:''' Orders "grp1" to move to position clicked. Disables further map-click actions:
  <sqf>onMapSingleClick "grp1 move _pos; onMapSingleClick ''; true";</sqf>
- |-
  '''{{ofp}}:''' Single quotes cannot be used for string definition, so two double-quotes have to be used instead:
  <sqf>onMapSingleClick "'SoldierWB' createUnit [_pos, group player]; true";</sqf>
- |-
  <sqf>
  // The following code will disable Shift+click waypoint marker creation
  onMapSingleClick {_shift};
  </sqf>
- |-
  <sqf>
  // Pass params to onMapSingleClick code
  player onMapSingleClick { hint ("Hello " + name _this) }; // Hello KK
  </sqf>
- |-
  <sqf>
  // Pass params to onMapSingleClick code -and- disable Shift+click waypoint marker creation
   player onMapSingleClick "hint (""Hello "" + name _this); _shift"; // Hello KK
  </sqf>
see_also:
- onGroupIconClick
