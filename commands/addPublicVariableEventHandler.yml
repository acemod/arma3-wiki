name: addPublicVariableEventHandler
description: "{{Feature|arma3|This command is deprecated since {{GVI|arma3|1.52}} and the introduction of [[remoteExec]] and [[remoteExecCall]].}}\n\nThis event handler will detect if a [[missionNamespace]] variable (it is attached to) has been broadcast over network with [[publicVariable]], [[publicVariableClient]] or [[publicVariableServer]] commands and will execute EH code upon detection. Arguments passed to the code in ''_this'' array are:\n* _this select 0: [[String]] - broadcast variable name (same variable name EH is attached to)\n* _this select 1: [[Anything]] - broadcast variable value \n* _this select 2: [[Object]], [[Group]] - target the variable got set on with [[setVariable]] (see {{Link|#Alternative Syntax}})\n{{Feature|informative|\n* This EH works '''only''' in Multiplayer environment\n* There is '''no way to remove''' this EH\n* This EH will not fire on the machine that executed broadcast with [[publicVariable]] command, only on the machines that receive the broadcast\n* The value of broadcast variable can be exactly the same, it is the actual broadcast that triggers EH not the change in variable}}"
problem_notes:
- '{{Feature|warning|The {{Link|#Alternative Syntax}} does not work as intended.}}'
groups:
- Broken Commands
- Event Handlers
- Multiplayer
- Variables
syntax:
- call: !Binary
  - varName
  - code
  ret:
  - Nothing
  - null
  params:
  - name: varName
    description: '[[missionNamespace]] variable name'
    type: String
  - name: code
    description: by default, the code is executed in [[missionNamespace]]
    type: Code
- call: !Binary
  - varName
  - - target
    - code
  ret:
  - Nothing
  - null
  params:
  - name: varName
    description: name of the variable set on target with [[setVariable]]
    type: String
  - name: target
    type: Unknown
  - name: code
    type: Code
  since:
    arma_3:
      major: 1
      minor: 46
argument_loc: Global
effect_loc: Local
since:
  armed_assault:
    major: 1
    minor: 9
  arma_2:
    major: 1
    minor: 0
  arma_2_arrowhead:
    major: 1
    minor: 50
  take_on_helicopters:
    major: 1
    minor: 0
  arma_3:
    major: 0
    minor: 50
examples:
- "<sqf>\n\"publicThis\" addPublicVariableEventHandler {\n\thint format [\n\t\t\"%1 has been updated to: %2\",\n\t\t_this select 0,\n\t\t_this select 1\n\t]\n};\n</sqf>"
- |-
  Client:
  <sqf>"'^:)123BURP,+=lol" addPublicVariableEventHandler {hint ("NUTS are " + (_this select 1))};</sqf>
  Server:
  <sqf>
  missionNamespace setVariable ["'^:)123BURP,+=lol", "craZZZZy"];
  publicVariable "'^:)123BURP,+=lol";
  </sqf>
