name: setRain
description: |-
  Sets rain density smoothly over the given transition time. A transition time of zero means an immediate change.
  A rain density of zero is no rain, one is maximum rain. Rain is not possible when [[overcast]] is less than 0.7.

  {{Feature|arma3|
  Since {{arma3}} this command is multiplayer-synchronised:
  * if executed on the server, the changes will propagate globally.
  * if executed on a client, the effect is local, temporary and will soon change to the server setting.
  Minimum [[overcast]] needed for rain in {{arma3}} is '''0.5'''.
  }}

  {{Feature|important|
  Alternative syntaxes ({{Link|#Syntax 2}} and {{Link|#Syntax 3}}):
  * set rain particle params. Rain particles params are client-side params and are ignored on dedicated server. Use helper function [[BIS_fnc_setRain]] if sync is needed in Multiplayer
  * have a '''[[Multiplayer Scripting#Locality|local]]''' {{Icon|localeffect|32}} effect
  }}
multiplayer_note: Prior to {{arma3}}, each client and the server could have different rain values.
groups:
- Environment
syntax:
- call: !Binary
  - time
  - rain
  ret:
  - Nothing
  - null
  params:
  - name: time
    description: transition time in seconds to the new value
    type: Number
  - name: rain
    description: new rain value in range 0..1.
    type: Number
- call: !Unary rainParams
  ret:
  - Nothing
  - null
  params:
  - name: rainParams
    description: 'array of custom [[Arma 3: CfgWorlds Config Reference#class RainParticles | {{hl|RainParticles}}]] params - see [[rainParams]]. Use empty array [] to reset to default config values'
    type: ArrayUnknown
  since:
    arma_3:
      major: 2
      minor: 8
  effect: Local
- call: !Unary config
  ret:
  - Nothing
  - null
  params:
  - name: config
    description: 'config path to a custom class, which contains [[Arma 3: CfgWorlds Config Reference#class RainParticles | {{hl|RainParticles}}]] class. Use [[configNull]] to reset to default config values'
    type: Config
  since:
    arma_3:
      major: 2
      minor: 8
  effect: Local
argument_loc: Unspecified
effect_loc: Global
server_exec: false
since:
  flashpoint:
    major: 1
    minor: 75
  flashpoint_elite:
    major: 1
    minor: 0
  armed_assault:
    major: 1
    minor: 0
  arma_2:
    major: 1
    minor: 0
  arma_2_arrowhead:
    major: 1
    minor: 50
  take_on_helicopters:
    major: 1
    minor: 0
  arma_3:
    major: 0
    minor: 50
examples:
- <sqf>60 setRain 1;</sqf>
- |-
  Force no rain:
  <sqf>
  0 setRain 0;
  forceWeatherChange;
  999999 setRain 0;
  </sqf>
- "See also [[BIS_fnc_setRain]] since {{arma3}} v2.10:\n<sqf>\n0 setOvercast 1;\n0 setRain 1;\n0 setFog 0.1;\t\t// snow affects visibility at distance\nsetHumidity 0.9;\t// don't want to see dust clouds\nenableEnvironment [false, true];\t// don't want to see snakes and butterflies either\nforceWeatherChange;\n[\n\t\"a3\\data_f\\snowflake4_ca.paa\",\t// rainDropTexture - 4 means it has 4 flakes in it. Other available textures: snowflake8_ca.paa, snowflake16_ca.paa\n\t4,\t\t\t\t// texDropCount - 4 because we are using texture with 4 flakes. Change to 8 or 16 in accordance with other textures used\n\t0.01,\t\t\t// minRainDensity\n\t25,\t\t\t\t// effectRadius\n\t0.05,\t\t\t// windCoef\n\t2.5,\t\t\t// dropSpeed\n\t0.5,\t\t\t// rndSpeed\n\t0.5,\t\t\t// rndDir\n\t0.07,\t\t\t// dropWidth\n\t0.07,\t\t\t// dropHeight\n\t[1, 1, 1, 0.5],\t// dropColor\n\t0.0,\t\t\t// lumSunFront\n\t0.2,\t\t\t// lumSunBack\n\t0.5,\t\t\t// refractCoef\n\t0.5,\t\t\t// refractSaturation\n\ttrue,\t\t\t// snow\n\tfalse\t\t\t// dropColorStrong\n]\ncall BIS_fnc_setRain;\n</sqf>"
