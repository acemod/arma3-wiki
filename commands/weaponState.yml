name: weaponState
desc: |-
  Returns the given or currently selected weapon state for unit or vehicle.
  With {{Link|#Syntax 2}}, if no optional arguments are present, currently selected weapon is queried.
  {{Feature|arma3|
  Since {{arma3}} v1.70 this command has been improved and extended:
  * A vehicle's weapon query doesn't need a weapon operator provided the weapon or muzzle is specified in optional param.<br>(keep in mind that by default a vehicle has no weapons selected)
  * Driver turret can now be accessed as well with turret path [-1].
  * Muzzle name is supported as well as weapon name. The command searches for weapon first, then if not found, muzzle is searched for.
  }}
groups:
- Weapons
syntax:
- ret:
    type: Unknown
    desc: |-
      current ammo round reload phase (see [[weaponReloadingTime]])
      * {{GVI|arma3|2.06|size= 0.75}} magazineReloadPhase: [[Number]] in range 0..1 - current magazine reload phase, 0 - reload complete. &gt; 0 - reload in progress
  right: !Item
    name: unit
    type: Object
- ret:
    type: Unknown
    desc: |-
      current ammo round reload phase (see [[weaponReloadingTime]])
      * {{GVI|arma3|2.06|size= 0.75}} magazineReloadPhase: [[Number]] - current magazine reload phase from 1 to 0, 0 - reload complete. &gt; 0 - reload in progress
  right: !Array
  - !Item
    name: vehicle
    type: Object
  - !Item
    name: turretPath
    type: TurretPath
  - !Item
    name: weapon
    desc: weapon or muzzle name
    type: String
    optional: true
    default: '{{hl|""}}'
    since:
      arma3: '1.70'
  - !Item
    name: muzzle
    desc: muzzle name
    type: String
    optional: true
    default: '{{hl|""}}'
    since:
      arma3: '2.8'
  - !Item
    name: firemode
    desc: firemode name
    type: String
    optional: true
    default: '{{hl|""}}'
    since:
      arma3: '2.8'
- ret:
    type: Unknown
    desc: |-
      current ammo round reload phase (see [[weaponReloadingTime]])
      * {{GVI|arma3|2.06|size= 0.75}} magazineReloadPhase: [[Number]] - current magazine reload phase from 1 to 0, 0 - reload complete. &gt; 0 - reload in progress
  left: !Item
    name: unit
    type: Object
  right: !Item
    name: weaponOrMuzzle
    type: String
  since:
    arma3: '2.6'
argument_loc: Unspecified
effect_loc: Unspecified
since:
  arma2oa: '1.60'
  tkoh: '1.0'
  arma3: '0.50'
examples:
- "<sqf>_wsPlayer = weaponState player;\t\t\t\t\t// [\"arifle_MXC_ACO_F\",\"arifle_MXC_ACO_F\",\"Single\",\"30Rnd_65x39_caseless_mag\",30,0,0]</sqf>"
- "Query currently selected gunner weapon:\n<sqf>_wsVehicle = weaponState [_apc, [0]];\t\t\t// [\"autocannon_40mm_CTWS\",\"HE\",\"player\",\"60Rnd_40mm_GPR_Tracer_Red_shells\",60,0,0]</sqf>"
- "<sqf>_wsVehicle = weaponState [_apc, [0], \"AP\"];\t\t// [\"autocannon_40mm_CTWS\",\"AP\",\"player\",\"40Rnd_40mm_APFSDS_Tracer_Red_shells\",40,0,0]</sqf>"
- "<sqf>_wsPlayer = player weaponState \"GL_3GL_F\";\t\t// [\"arifle_MX_GL_ACO_F\",\"GL_3GL_F\",\"Single\",\"1Rnd_HE_Grenade_shell\",1,0,0]</sqf>"
see_also:
- weapons
- selectWeaponTurret
- loadMagazine
- magazinesTurret
- weaponsTurret
- weaponReloadingTime]].
