name: inAreaArrayIndexes
desc: |-
  Returns indices of positions that are within the provided area.

  {{Feature|important|Unlike [[inAreaArray]], all positions sent to this command are treated as [[Position#PositionASL|PositionASL]] but the center as [[PositionAGL]].}}
  {{Feature|important|Since {{GVI|arma3|2.20|size= 0.75}} this command is fully compatible with [[inAreaArray]], i.e by default all positions given as [[Array]] or as objects are treated as [[PositionAGL]]. There is also an option to force them to [[PositionWorld]] format.}}
groups:
- Triggers
- Markers
- Locations
- Positions
- Groups
syntax:
- call: !Binary
  - positions
  - area
  ret:
    type: Unknown
    desc: indexes of matched positions in positions array
  params:
  - name: positions
    type: !ArrayUnsized
      type: !OneOf
      - type: Object
        desc: null
        since: null
      - type: Position
        desc: null
        since: null
      desc: ''
  - name: area
    type: !OneOf
    - type: Object
      desc: trigger
      since: null
    - type: Location
      desc: location
      since: null
    - type: String
      desc: marker name
      since: null
- call: !Binary
  - positions
  - - centre
    - a
    - b
    - angle
    - isRectangle
    - c
    - usePosWorld
  ret:
    type: Unknown
    desc: indexes of matched positions in positions array
  params:
  - name: positions
    desc: '[[Object]]s and/or [[Position]]s to check (see note in description)'
    type: ArrayUnknown
  - name: centre
    desc: '[[Position]] [[Object]] or [[Group]] (see note in description)'
    type: ArrayUnknown
  - name: a
    desc: x axis (x / 2)
    type: Number
  - name: b
    desc: y axis (y / 2)
    type: Number
  - name: angle
    desc: rotation angle
    type: Number
    optional: true
    default: '0'
  - name: isRectangle
    desc: '[[true]] if rectangle, [[false]] if ellipse'
    type: Boolean
    optional: true
    default: '[[false]]'
  - name: c
    desc: z axis (z / 2)
    type: Number
    optional: true
    default: '-1: unlimited'
  - name: usePosWorld
    desc: set to [[true]] to treat all positions as [[PositionWorld]]
    type: Boolean
    optional: true
    default: '[[false]]'
    since:
      arma3: '2.20'
- call: !Binary
  - positions
  - - pos1
    - pos2
    - pos3
    - '...'
  ret:
    type: Unknown
    desc: indexes of matched positions in positions array
  params:
  - name: positions
    desc: '[[Object]]s and/or [[Position]]s to check.'
    type: ArrayUnknown
  - name: posN
    desc: polygon vertices in 2d or 3d format (see [[inPolygon]])
    type: Position
argument_loc: Unspecified
effect_loc: Unspecified
since:
  arma3: '2.14'
examples:
- "<sqf>\nprivate _players = call BIS_fnc_listPlayers;\nprivate _indices = _players inAreaArrayIndexes _marker;\n{\n\tprivate _player = _players select _x;\n\t[\"You are in the marker!\"] remoteExec [\"hint\", _player];\n} forEach _indices;\n</sqf>"
see_also:
- inAreaArray
- inArea
- triggerArea
