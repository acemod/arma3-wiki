name: weaponsInfo
desc: Returns entity's weapons information including weapon index and firemode.
groups:
- Weapons
syntax:
- ret:
    type: Unknown
    desc: |-
      internal weapon index (changes frequently) used with "SwitchWeapon" and "UseWeapon" [[action]]s
      * isSelected: [[Boolean]] - [[true]] if this weapon is currently selected
      * weaponName: [[String]] - weapon name
      * muzzleName: [[String]] - muzzle name
      * firemode: [[String]] - firemode that is set for this 'weaponIndex'
      * magazineName: [[String]] - name of the loaded magazine or ""
      * ammoCount: [[Number]] - magazine ammo count or -1
      * isPrimary: [[Boolean]] - [[true]] if this muzzle is considered primary by the engine (Since Arma 3 2.14)
  left: !Item
    name: unit
    desc: person
    type: Object
  right: !Array
  - !Item
    name: weaponOrMuzzle
    desc: name of the weapon or muzzle (returns whichever matches first) or "" to return all weapons
    type: String
  - !Item
    name: onlyLoaded
    desc: '[[true]] to return loaded weapons only'
    type: Boolean
    optional: true
    default: '[[false]]'
argument_loc: Unspecified
effect_loc: Unspecified
since:
  arma3: '2.10'
examples:
- |-
  Find weapon with FullAuto firemode and switch to it: <sqf>
  private _weapons = player weaponsInfo [currentMuzzle player, true];
  private _found = _weapons findIf { _x select 4 == "FullAuto" };
  if (_found > -1) then { action ["SwitchWeapon", player, player, _weapons select _found select 0] };
  </sqf>
see_also:
- weaponState
- weaponReloadingTime
- action
