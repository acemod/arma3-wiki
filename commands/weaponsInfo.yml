name: weaponsInfo
desc: Returns entity's weapons information including weapon index and firemode.
groups:
- Weapons
syntax:
- call: !Binary
  - unit
  - - weaponOrMuzzle
    - onlyLoaded
  ret:
    type: Unknown
  params:
  - name: unit
    desc: person
    type: Object
  - name: weaponOrMuzzle
    desc: name of the weapon or muzzle (returns whichever matches first) or "" to return all weapons
    type: String
  - name: onlyLoaded
    desc: '[[true]] to return loaded weapons only'
    type: Boolean
    optional: true
    default: '[[false]]'
argument_loc: Unspecified
effect_loc: Unspecified
since:
  arma3: '2.10'
examples:
- |-
  Find weapon with FullAuto firemode and switch to it: <sqf>
  private _weapons = player weaponsInfo [currentMuzzle player, true];
  private _found = _weapons findIf { _x select 4 == "FullAuto" };
  if (_found > -1) then { action ["SwitchWeapon", player, player, _weapons select _found select 0] };
  </sqf>
see_also:
- weaponState
- weaponReloadingTime
- action
