name: drawIcon3D
description: |-
  Draws an icon at the given position in the game world. This command has to be executed every frame. Use the [[Arma 3: Mission Event Handlers#Draw3D|Draw3D]] Mission Event Handler (which is executed every frame if the user can see the icon).<br>
  In order for the results of this command to be visible through a [[camCreate|custom camera]], enable HUD with [[cameraEffectEnableHUD]].<br>
  <sqf inline>showHUD false</sqf> will hide the icon drawn by this command.<br>
  In order for arrows to appear, the icon texture should exist. The arrow size is proportionate to the icon size.

  {{Feature|informative|
  * To avoid flickering and ensure visual fidelity, always use the [[Position#Formats|visual]] (render time scope) variant of position commands, such as [[getPosASLVisual]].
  * The ''width'' and ''height'' parameters are multipliers for {{hl|activeWidth}} and {{hl|activeHeight}} set in config. So for example, if one needs to create an icon half the screen wide (<sqf inline>safeZoneW / 2</sqf>) and half the screen tall (<sqf inline>safeZoneH / 2</sqf>), divide these by the according config values: <sqf>
  private _iconWidth = (safeZoneW / 2) / getNumber (configFile >> "CfgInGameUI" >> "Cursor" >> "activeWidth");
  private _iconHeight = (safeZoneH / 2) / getNumber (configFile >> "CfgInGameUI" >> "Cursor" >> "activeHeight");
  </sqf>
  }}
groups:
- Interaction
syntax:
- call: !Unary
  - texture
  - color
  - position
  - width
  - height
  - angle
  - text
  - shadow
  - textSize
  - font
  - textAlign
  - drawSideArrows
  - offsetX
  - offsetY
  ret:
  - Nothing
  - null
  params:
  - name: texture
    description: icon texture
    type: String
  - name: color
    type: Unknown
  - name: position
    description: icon position
    type: Position3dAGL
  - name: width
    description: icon width
    type: Number
  - name: height
    description: icon height
    type: Number
  - name: angle
    description: icon rotation angle
    type: Number
  - name: text
    description: text label to display next to the icon
    type: String
    optional: true
    default: '""'
  - name: shadow
    type: Unknown
    optional: true
  - name: textSize
    description: text size
    type: Number
    optional: true
    default: size of system
  - name: font
    description: font class name from {{hl|CfgFontFamilies}} (see {{Link|FXY File Format#Available Fonts}})
    type: String
    optional: true
    default: '"RobotoCondensedBold"'
  - name: textAlign
    type: Unknown
    optional: true
  - name: drawSideArrows
    description: '[[true]] to draw arrows and the text label at edge of screen when the icon moves off the screen'
    type: Boolean
    optional: true
    default: '[[false]]'
  - name: offsetX
    description: X offset for the icon text
    type: Number
    optional: true
    default: '0'
    since:
      arma_3:
        major: 2
        minor: 4
  - name: offsetY
    description: Y offset for the icon text
    type: Number
    optional: true
    default: '0'
    since:
      arma_3:
        major: 2
        minor: 4
argument_loc: Unspecified
effect_loc: Local
since:
  arma_3:
    major: 0
    minor: 50
examples:
- "Icon and text:\n<sqf>\naddMissionEventHandler [\"Draw3D\", {\n\tdrawIcon3D [\"targetIcon.paa\", [1,1,1,1], ASLToAGL getPosASLVisual cursorTarget, 1, 1, 45, \"Target\", 1, 0.05, \"TahomaB\"];\n}];\n</sqf>"
- "Just text:\n<sqf>\naddMissionEventHandler [\"Draw3D\", {\n\tdrawIcon3D [\"\", [1,0,0,1], ASLToAGL getPosASLVisual cursorTarget, 0, 0, 0, \"Target\", 1, 0.05, \"PuristaMedium\"];\n}];\n</sqf>"
- "<sqf>\niconPos = player getPos [10, 0] vectorAdd [0,0,2];\naddMissionEventHandler [\"draw3D\",\n{\n\tdrawIcon3D\n\t[\n\t\t\"\\a3\\ui_f\\data\\IGUI\\Cfg\\Radar\\radar_ca.paa\",\n\t\t[0,0,1,1],\n\t\ticonPos,\n\t\t5,\n\t\t5,\n\t\tgetDirVisual player,\n\t\t\"COMPASS\",\n\t\t0,\n\t\t0.3,\n\t\t\"PuristaMedium\",\n\t\t\"center\",\n\t\ttrue\n\t];\n}];\n</sqf>"
- "Since {{GVI|arma3|2.04}}\n<sqf>\npos = player getPos [10, 0] vectorAdd [0,0,2];\naddMissionEventHandler [\"draw3D\",\n{\n\t_k = 10 / (player distance pos);\n\tdrawIcon3D\n\t[\n\t\t\"\\a3\\ui_f\\data\\IGUI\\Cfg\\Radar\\radar_ca.paa\",\n\t\t[1,0,0,1],\n\t\tpos,\n\t\t1 * _k,\n\t\t1 * _k,\n\t\t0,\n\t\tname player,\n\t\t0,\n\t\t0.04 * _k,\n\t\t\"RobotoCondensed\",\n\t\t\"right\",\n\t\ttrue,\n\t\t0.005 * _k,\n\t\t-0.035 * _k\n\t];\n}];\n</sqf>"
