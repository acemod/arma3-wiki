name: selectionPosition
desc: |-
  Returns selection position in model space pertaining to the current animation in [[Simulation vs Render Time Scope|render time scope]].
  When the default syntax is used, command searches first in Memory [[LOD]], then in Geometry LOD, FireGeometry LOD, LandContact LOD, HitPoints LOD and finally in ViewGeometry LOD and returns the first matching find.
  The second syntax allows to specify which one of these LODs to search in instead.
  {{Feature|important|
  Sometimes internally "ViewGeometry" could be equal to "Geometry", and "FireGeometry" could be equal to "ViewGeometry".
  In order to pinpoint the actual LOD, use [[allLODs]] and [[LOD_resolutions|LOD resolution]] as argument for selecting the LOD.<br><br>
  Also note that similar models can have different LOD indexes, for example a soldier model differs from a model of civilian in this regard.
  }}
groups:
- Object Manipulation
- Render Time Scope
syntax:
- call: !Binary
  - object
  - selectionName
  ret:
    type: ArrayUnknown
    desc: '[[Position#PositionRelative|relative position]] in model space. If selection does not exist, [0, 0, 0] is returned.'
  params:
  - name: object
    type: Object
  - name: selectionName
    type: String
- call: !Binary
  - object
  - - selectionName
    - LOD
    - returnMode
  ret:
    type: ArrayUnknown
    desc: '[[Position#PositionRelative|relative position]] in model space. If selection does not exist, [0, 0, 0] is returned. If returnMode is {{hl|"BoundingBox"}}, [[Array]] of [[Array]]s'
  params:
  - name: object
    type: Object
  - name: selectionName
    type: String
  - name: LOD
    type: !StringEnum
    - - Memory
      - null
      - null
    - - Geometry
      - null
      - null
    - - FireGeometry
      - null
      - null
    - - LandContact
      - null
      - null
    - - HitPoints
      - null
      - null
    - - ViewGeometry
      - null
      - arma3: '2.6'
    since:
      arma3: '2.6'
  - name: returnMode
    type: !StringEnum
    - - FirstPoint
      - null
      - null
    - - AveragePoint
      - null
      - null
    - - BoundingBox
      - null
      - null
    optional: true
    since:
      arma3: '2.8'
  since:
    arma3: '1.50'
- call: !Unary
  - object
  - selectionName
  - LODIndex
  - isVisual
  - returnMode
  ret:
    type: ArrayUnknown
    desc: '[[Position#PositionRelative|relative position]] in model space. If selection does not exist, [0, 0, 0] is returned. If returnMode is {{hl|"BoundingBox"}}, [[Array]] of [[Array]]s'
  params:
  - name: object
    type: Object
  - name: selectionName
    type: String
  - name: LODIndex
    desc: the index of the target LOD (see [[allLODs]])
    type: Number
  - name: isVisual
    desc: '[[true]] for Render, [[false]] for Simulation [[Simulation_vs_Render_Time_Scope|time scope]]'
    type: Boolean
    optional: true
    default: '[[true]]'
  - name: returnMode
    type: !StringEnum
    - - FirstPoint
      - null
      - null
    - - AveragePoint
      - null
      - null
    - - BoundingBox
      - null
      - null
    optional: true
    since:
      arma3: '2.8'
  since:
    arma3: '2.6'
argument_loc: Global
effect_loc: Unspecified
since:
  arma1: '1.0'
  arma2: '1.0'
  arma2oa: '1.50'
  tkoh: '1.0'
  arma3: '0.50'
examples:
- <sqf>_inModelPosition = player selectionPosition "head_hit";</sqf>
- <sqf>_inModelPosition = player selectionPosition "pelvis";</sqf>
- <sqf>_inModelPosition = player selectionPosition "head";</sqf>
- <sqf>_inModelPosition = player selectionPosition "camera";</sqf>
- "<sqf>\nstomper selectionPosition [\"wheel_1_1\", \"HitPoints\", \"FirstPoint\"];\t// [-0.774058,0.860854,-1.40365]\nstomper selectionPosition [\"wheel_1_1\", \"HitPoints\", \"AveragePoint\"];\t// [-0.597142,1.35486,-1.58345]\nstomper selectionPosition [\"wheel_1_1\", \"HitPoints\", \"BoundingBox\"];\t// [[-0.774058,0.860854,-2.07746],[-0.420225,1.84887,-1.08944]]\n</sqf>"
see_also:
- selectionVectorDirAndUp
- modelToWorld
- selectionNames
- getAllHitPointsDamage
- allLODs
- LOD
- resolutions
