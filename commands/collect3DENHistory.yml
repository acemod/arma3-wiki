name: collect3DENHistory
desc: |-
  Execute a block of code in which all Eden Editor operations will be recorded as one history step. For example creating an entity, setting its attributes and then connections would normally be recorded as three different steps. Calling them all within single '''collect3DENHistory''' block will group them together and the user will need to undo only once to revert the changes. Use [[ignore3DENHistory]] to ignore history entry creation.

  {{Feature|informative|In order to only change the 2nd or 3rd parameter of the alternative syntax use [[nil]] as the preceding parameters.}}
  Some useful icons are:
  <spoiler text="Show texture paths">
  * {{hl|"\a3\3den\data\cfg3den\history\addtolayer_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\changeattributes_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\changeseat_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\connectitems_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\create_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\createcomment_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\deleteitems_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\disconnectitems_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\makenewlayer_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\missionnew_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\moveitems_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\multipleoperations_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\pasteitems_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\removefromlayer_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\rotateitems_ca.paa"}}
  * {{hl|"\a3\3den\data\cfg3den\history\scaleitems_ca.paa"}}
  </spoiler>
groups:
- Eden Editor
syntax:
- call: !Unary code
  ret:
    type: Nothing
  right: !Item
    name: code
    desc: code that is executed in [[Scheduler#Unscheduled_Environment|Unscheduled Environment]]
    type: Code
- call: !Binary
  - - text
    - tooltip
    - icon
  - code
  ret:
    type: Nothing
  left: !Array
  - !Item
    name: text
    desc: text of the entry that is added to the history list
    type: !ArrayUnsized
      value: !OneOf
      - type: String
        desc: null
        since: null
      - type: Nothing
        desc: null
        since: null
  - !Item
    name: tooltip
    desc: (Optional, default "Batch Change" ([[isLocalized|localized]])) - tooltip of the entry
    type: String
  - !Item
    name: icon
    desc: (Optional, default "a3\3den\data\cfg3den\history\multipleoperations_ca.paa") - path to the icon that is displayed left of the ''text''. Must not start with a {{hl|\}}!
    type: String
  right: !Item
    name: code
    desc: code that is executed in [[Scheduler#Unscheduled_Environment|Unscheduled Environment]]
    type: Code
  since:
    arma3: '2.6'
argument_loc: Unspecified
effect_loc: Unspecified
since: {}
examples:
- "<sqf>\ncollect3DENHistory \n{\n\t_logic = create3DENEntity [\"Logic\", \"Logic\", position player];\n\tadd3DENConnection [\"Sync\", [_logic], player];\n}; // Creates a logic and connects it to player in one history step.\n</sqf>"
- "<sqf>\n[\"Create Entity\", \"B_Soldier_F\", \"a3\\3den\\data\\cfg3den\\history\\create_ca.paa\"] collect3DENHistory \n{\n\tcreate3DENEntity [\"Object\",\"B_Soldier_F\", screenToWorld [0.5,0.5]];\n};\n</sqf>"
- "<sqf>\n[nil, nil, \"a3\\3den\\data\\cfg3den\\history\\moveitems_ca.paa\"] collect3DENHistory \n{\n\tcreate3DENEntity [\"Object\",\"B_Soldier_F\", screenToWorld [0.5,0.5]];\n}; // Change only the icon\n</sqf>"
see_also:
- ignore3DENHistory
- add3DENConnection
- create3DENComposition
- create3DENEntity
- delete3DENEntities
- do3DENAction
- remove3DENConnection
- set3DENAttributes
- set3DENObjectType
