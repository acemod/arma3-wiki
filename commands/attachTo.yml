name: attachTo
desc: |-
  Attaches an object to another object.
  * The offset is applied to the object center unless a memory point is provided, in which case the offset will be applied to the memory point position.
  * If no offset is specified, the current offset between the two objects will be used.

  {{Feature|informative|
  * All direction commands, such as [[setDir]], [[setVectorDirAndUp]], etc. for an [[attachedObjects|attached object]] should be used '''relative''' to the reference object's direction (i.e. in model space), e.g <sqf inline>_attachedObj setDir 0</sqf> will make it face the same direction as the reference object, '''90''' face to the right, '''180''' face to the back, etc.
  * Attached triggers only follow the direction of the object to which they are attached, not pitch or roll.
  }}
multiplayer_note: Use <sqf inline>_attachedObj setPosWorld getPosWorld _attachedObj</sqf> ''after'' [[setDir]] to synchronise direction properly over the network (see {{Link|setDir|setDir's page}} for its MP behaviour).
groups:
- Object Manipulation
syntax:
- call: !Binary
  - object1
  - - object2
    - offset
    - memPoint
    - followBoneRotation
  ret:
    type: Nothing
  params:
  - name: object1
    desc: object to attach
    type: Object
  - name: object2
    desc: object to attach to; if a group is provided, its [[leader]] is used
    type: !OneOf
    - type: Object
      desc: null
      since: null
    - type: Group
      desc: null
      since: null
  - name: offset
    desc: the position relative to ''object2'''s position
    type: Position3dRelative
    optional: true
  - name: memPoint
    desc: 'see {{Link|ArmA: Armed Assault: Selection Translations|Selection Translations}} for czech selections names'
    type: String
    optional: true
  - name: followBoneRotation
    desc: follows the memory point's rotation (if attached to one)
    type: Boolean
    optional: true
    since:
      arma3: '2.2'
argument_loc: Global
effect_loc: Global
since:
  arma2: '1.0'
  arma2oa: '1.50'
  tkoh: '1.0'
  arma3: '0.50'
examples:
- <sqf>player attachTo [car, [0, 0, 1]];</sqf>
- <sqf>player attachTo [tank, [0, -1, 0], "Usti hlavne"];</sqf>
- |-
  Automatic offset:
  <sqf>ammoCrate attachTo [player];</sqf>
- |-
  To set orientation of attached object use [[setVectorDirAndUp]] command:<br>
  [[File:Sbomber.jpg|300x200px|right]]
  <sqf>
  _expl1 = "DemoCharge_Remote_Ammo" createVehicle position player;
  _expl1 attachTo [player, [-0.1, 0.1, 0.15], "Pelvis"];
  _expl1 setVectorDirAndUp [[0.5, 0.5, 0], [-0.5, 0.5, 0]];
  _expl2 = "DemoCharge_Remote_Ammo" createVehicle position player;
  _expl2 attachTo [player, [0, 0.15, 0.15], "Pelvis"];
  _expl2 setVectorDirAndUp [[1, 0, 0], [0, 1, 0]];
  _expl3 = "DemoCharge_Remote_Ammo" createVehicle position player;
  _expl3 attachTo [player, [0.1, 0.1, 0.15], "Pelvis"];
  _expl3 setVectorDirAndUp [[0.5, -0.5, 0], [0.5, 0.5, 0]];
  </sqf>
- |-
  [[File:arma3_attachTo-example-worker-drill-and-radio.png|300x200px|right]]
  <sqf>
  _drill attachTo [_worker, [0.0595885,-0.00950365,-0.13495], "RightForeArmRoll", true];
  _drill setVectorDirAndUp [[0.536966,-0.00438141,-0.843605],[0.345872,0.913231,0.215406]];
  _radio attachTo [_worker, [-0.100003,0.069064,0.153719], "Spine3", true];
  _radio setVectorDirAndUp [[-0.144569,-0.48725,0.861354],[0.039712,0.866938,0.497072]];
  </sqf>
see_also:
- attachedTo
- attachedObjects
- detach
- getRelPos
- attachObject
- attachedObject
- waypointAttachVehicle
- waypointAttachedVehicle
- lightAttachObject
- triggerAttachVehicle
- setVectorDir
- setVectorUp
- setVectorDirAndUp
- modelToWorld
- BIS_fnc_transformVectorDirAndUp
