name: createMarker
desc: |-
  Creates a new map marker at the given position. The marker will be created for every connected player as well as all JIP players. The marker name has to be unique; the command will be ignored if a marker with the given name already exists.

  {{Feature|important|
  The marker will be visible only once at least [[markerType]] has been defined:
  <sqf>
  _marker = createMarker ["markername", player]; // Not visible yet.
  _marker setMarkerType "hd_dot"; // Visible.</sqf>
  }}

  {{Feature|informative|If the marker position is given in 3D format, the {{hl|z}}-coordinate is stored with the marker and will be used when the marker is passed to commands such as [[createVehicle]], [[createUnit]], [[createAgent]], [[createMine]] or [[setVehiclePosition]].<br>When a marker is manually placed in the editor, {{hl|z}} is always 0, which means the marker is placed on the ground. But when the player places a marker on the map in game, it is placed at sea level, so the {{hl|z}}-coordinate of that marker is <sqf inline>-getTerrainHeightASL markerPos "userMarker";</sqf>.}}
multiplayer_note: |-
  {{Feature|informative|
  '''Multiplayer optimisation:''' Global marker commands always broadcast the ''entire'' marker state over the network.
  As such, the number of network messages exchanged when creating or editing a marker can be reduced by performing all but the last operation using local marker commands, then using a global marker command for the last change (and subsequent global broadcast of all changes applied to the marker).
  }}
problem_notes:
- '[[setMarkerDrawPriority]] sorts [[allMapMarkers]] from least to most priority. Before {{GVI|arma3|2.18|size= 0.75}} [[createMarker]]/[[createMarkerLocal]] did ''''''not'''''' care about drawing priority and added the created marker to the end of the array, making it top priority. Running [[setMarkerDrawPriority]] again sorted this issue.'
groups:
- Markers
syntax:
- call: !Unary
  - name
  - position
  - channel
  - creator
  ret:
    type: String
    desc: the marker's name or empty string if the marker name is not unique.
  right: !Array
  - !Item
    name: name
    desc: the marker's name, used to reference the marker in scripts.
    type: String
  - !Item
    name: position
    desc: '[[Position#Introduction|Position2D]], [[Position#PositionAGL|PositionAGL]] or [[Object]]. In case of an object, the object''s model [0,0,0] is used.'
    type: !OneOf
    - type: ArrayUnknown
      desc: null
      since: null
    - type: Object
      desc: null
      since: null
  - !Item
    name: channel
    desc: the marker channel - see [[Channel IDs]] (for multiplayer)
    type: Number
    optional: true
    default: '-1'
    since:
      arma3: '2.2'
  - !Item
    name: creator
    desc: the marker creator (for multiplayer)
    type: Object
    optional: true
    default: '[[objNull]]'
    since:
      arma3: '2.2'
argument_loc: Unspecified
effect_loc: Global
since:
  arma1: '1.0'
  arma2: '1.0'
  arma2oa: '1.50'
  tkoh: '1.0'
  arma3: '0.50'
examples:
- <sqf>_marker1 = createMarker ["Marker1", position player];</sqf>
- <sqf>_marker2 = createMarker ["Marker2", player]; // since {{arma3}} 1.50</sqf>
see_also:
- createMarkerLocal
- deleteMarker
- BIS_fnc_markerToString
- BIS_fnc_stringToMarker
