name: createTrigger
desc: |-
  Creates a [[Trigger|trigger]] of the given type and at the given position. The type must be a class name in ''CfgNonAIVehicles'' or ''CfgVehicles'' with <syntaxhighlight lang="cpp" inline>simulation = detector</syntaxhighlight>. An array containing all units that have activated the trigger is available via <sqf inline>list triggerobj</sqf>. Since triggers are '''[[Object]]s''', commands such as [[getPosASL]], [[setPosASL]], [[deleteVehicle]] etc. work on them.
  {{Feature|important|Triggers are always created on the road surface (AGL) at provided x, y coordinates. The z param is ignored. In order to place the trigger with a custom z, use a 'setPosXXX' command after trigger creation.}}
  {{Feature|informative|Since {{arma3}} v1.54 triggers can be disabled/enabled using [[enableSimulation]] command.}}

  Triggers are created with default parameters:
  {{Columns|4|
  * {{hl|a}}: 50
  * {{hl|b}}: 50
  * {{hl|c}}: -1
  * {{hl|angle}}: 0
  * {{hl|rectangular}}: false
  * {{hl|activationBy}}: None
  * {{hl|activationType}}: Present
  * {{hl|repeating}}: false
  * {{hl|timeoutMin}}: 0
  * {{hl|timeoutMid}}: 0
  * {{hl|timeoutMax}}: 0
  * {{hl|interruptable}}: true
  * {{hl|type}}: None
  * {{hl|text}}: ""
  * {{hl|name}}: ""
  * {{hl|expCond}}: "this"
  * {{hl|expActiv}}: ""
  * {{hl|expDesactiv}}: ""
  * {{GVI|arma3|1.98|size= 0.75}} {{hl|interval}}: 0.5
  }}
groups:
- Triggers
syntax:
- call: !Unary
  - type
  - position
  - makeGlobal
  ret:
    type: Object
    desc: created trigger
  params:
  - name: type
    desc: usually "EmptyDetector"
    type: String
  - name: position
    type: !OneOf
    - type: Position2d
      desc: null
      since: null
    - type: Object
      desc: null
      since: null
  - name: makeGlobal
    type: Unknown
    optional: true
    since:
      arma3: '1.44'
argument_loc: Unspecified
effect_loc: Unspecified
since:
  flashpoint_elite: '1.0'
  arma1: '1.0'
  arma2: '1.0'
  arma2oa: '1.50'
  tkoh: '1.0'
  arma3: '0.50'
examples:
- |-
  <sqf>
  _trg = createTrigger ["EmptyDetector", getPos player];
  _trg setTriggerArea [5, 5, 0, false];
  _trg setTriggerActivation ["CIV", "PRESENT", true];
  _trg setTriggerStatements ["this", "hint 'Civilian near player'", "hint 'no civilian near'"];
  </sqf>
- "Open/close Bar Gate automatically:\n<sqf>\n//--- init of the Bar Gate\nif (isServer) then\n{\t\n\t_gateTrigger = createTrigger [\"EmptyDetector\", getPosWorld this, false];\n\t_gateTrigger setVariable [\"BarGateObj\", this];\n\t_gateTrigger setTriggerActivation [\"ANYPLAYER\", \"PRESENT\", true];\n\t_gateTrigger setTriggerArea [5, 25, getDir this, true];\n\t_gateTrigger setTriggerStatements \n\t[\n\t\t\"this\", \n\t\t\"thisTrigger getVariable \"\"BarGateObj\"\" animateSource [\"\"Door_1_sound_source\"\", 1]\", \n\t\t\"thisTrigger getVariable \"\"BarGateObj\"\" animateSource [\"\"Door_1_sound_source\"\", 0]\"\n\t];\n};\n</sqf>"
see_also:
- setTriggerActivation
- setTriggerArea
- setTriggerStatements
- setTriggerText
- setTriggerTimeout
- setTriggerType
- setEffectCondition
- setSoundEffect
- setMusicEffect
- setTitleEffect
- deleteVehicle
- synchronizeWaypoint
- synchronizeTrigger
- createGuardedPoint
- triggerInterval
- setTriggerInterval
- enableSimulation
- simulationEnabled
