name: compileFinal
desc: |-
  Compiles an expression / takes an existing [[HashMap]] and makes it final, preventing it from being modified or overwritten (by [[=]] assignation, [[publicVariable]], [[set]] or any other command).
  {{Feature|informative|This feature is only available in the retail version of {{arma3}}.}}
groups:
- Strings
syntax:
- call: !Unary expression
  ret:
    type: !OneOf
    - type: Code
      desc: null
      since: null
    - type: HashMapUnknown
      desc: null
      since: null
  right: !Item
    name: expression
    type: !OneOf
    - type: String
      desc: null
      since: null
    - type: Code
      desc: null
      since: null
    - type: HashMapUnknown
      desc: null
      since: null
argument_loc: Unspecified
effect_loc: Unspecified
since:
  arma3: '0.56'
examples:
- "<sqf>\n_myCode = compileFinal \"a = a + 1\";\ncall _myCode;\n \n// repeated compile won't have any effect\n_myCode = compileFinal \"a = a + 2\";\n</sqf>"
- |-
  <sqf>
  // duplicate code will be final as well
  _myDuplicateCode = _myCode;

  // an alternative is to copy str'd code (since Arma 3 v2.02)
  private _myNonFinalCopy = compile toString _myCode;
  </sqf>
- |-
  <sqf>
  // since {{arma3}} v2.14
  private _readonlyCode = compileFinal { systemChat "Hello World!"; };
  private _readonlyHashMap = compileFinal _myHashMap;
  </sqf>
see_also:
- compile
- compileScript
- isFinal
- call
- spawn
